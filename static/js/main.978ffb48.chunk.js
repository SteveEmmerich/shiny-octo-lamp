(this["webpackJsonplanddox-react-code-challenge"]=this["webpackJsonplanddox-react-code-challenge"]||[]).push([[0],{44:function(e,n,t){e.exports=t(61)},49:function(e,n,t){},51:function(e,n,t){},61:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(26),l=t.n(c),i=(t(49),t(6)),o=t(64),u=t(62),d=t(29),s=t(65),m=t(12),f=t.n(m),E=(t(50),t(51),t(66)),v=t(30),p=t(7),h=t(67),g=t(63),b=t(27),O=t(13),j=t(14);O.b.add(j.a,j.b,j.c,j.d);var C,I,w,y=function(e){var n=function(e){switch(e){case"add":return{icon:"plus"};case"indent":return{icon:"level-up-alt",rotation:90,fixedWidth:!0,size:"sm"};case"remove":return{icon:"minus-circle"};case"smile":return{icon:"smile"};default:return{}}}(e.icon);return r.a.createElement(b.a,n)},D=t(15),P=t(41),k=function(e){return[e,function(n){return{type:e,payload:n}}]},x=function(e){return function(n){return console.groupCollapsed("Action Dispatched:",n.type),console.log("Action Payload: ",n.payload),e(n)}},T=t(22),A=t.n(T),S=k("ADD_MI"),N=Object(i.a)(S,2),M=N[0],R=N[1],L=k("UPDATE_MI"),_=Object(i.a)(L,2),J=_[0],W=_[1],B=k("DELETE_MI"),F=Object(i.a)(B,2),G=F[0],U=F[1],z=k("ADD_NRPI"),H=Object(i.a)(z,2),$=H[0],q=H[1],K=k("UPDATE_NPRI"),Q=Object(i.a)(K,2),V=Q[0],X=Q[1],Y=k("DELETE_NPRI"),Z=Object(i.a)(Y,2),ee=Z[0],ne=Z[1],te=k("SET_STATE"),ae=Object(i.a)(te,2),re=ae[0],ce=ae[1],le=[],ie=(I=le,C={},Object(p.a)(C,M,(function(e,n){return[].concat(Object(P.a)(e),[Object(D.a)({id:A()()},n.payload)])})),Object(p.a)(C,J,(function(e,n){var t=n.payload,a=t.id,r=t.changes;return e.map((function(e){return e.id===a?Object(D.a)({},e,{},r):e}))})),Object(p.a)(C,re,(function(e,n){return n.payload})),Object(p.a)(C,G,(function(e,n){var t=n.payload;return e.filter((function(e){return e.id!==t}))})),Object(p.a)(C,$,(function(e,n){var t=n.payload,a=t.id,r=t.data;return e.map((function(e){return e.id===a&&e.npris.push(Object(D.a)({id:A()()},r)),e}))})),Object(p.a)(C,V,(function(e,n){var t=n.payload,a=t.miId,r=t.id,c=t.changes;return e.map((function(e){if(e.id===a){var n=e.npris.findIndex((function(e){return e.id===r}));if(-1!==n){var t=Object(D.a)({},e.npris[n],{},c);e.npris[n]=t}}return e}))})),Object(p.a)(C,ee,(function(e,n){var t=n.payload,a=t.miId,r=t.id;return e.map((function(e){return e.id===a&&(e.npris=e.npris.filter((function(e){return e.id!==r}))),e}))})),w=C,function(e,n){return void 0===e&&(e=I),w.hasOwnProperty(n.type)?w[n.type](e,n):e}),oe=Object(a.createContext)(),ue=Object(a.createContext)(),de=function(e){var n=e.children,t=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var r=n.initialState,c=Object(a.useRef)(r),l=a.useReducer.apply(void 0,n),o=Object(i.a)(l,2),u=o[0],d=o[1],s=Object(a.useMemo)((function(){return x(d)}),[d]);return Object(a.useEffect)((function(){u!==r&&(console.log("Previous State:",c.current),console.log("Next State:",u),console.groupEnd()),c.current=u}),[r,u]),[u,s]}(ie,le),c=Object(i.a)(t,2),l=c[0],o=c[1];return r.a.createElement(oe.Provider,{value:l},r.a.createElement(ue.Provider,{value:o},n))},se=function(){var e=Object(a.useContext)(oe);if(void 0===e)throw new Error("useTractState must be wrapped in a TractProvider");return e},me=function(){var e=Object(a.useContext)(ue);if(void 0===e)throw new Error("useTractDispatch must be wrapped in a TractProvider");return e},fe=function(){return[se(),me()]},Ee=function(e){var n=e.values,t=e.miId,a=e.onChange,c=n,l=me(),i=function(e,n,t){e.preventDefault();var r=e.target,c=r.value,i=r.id;l(X({miId:t,id:n,changes:Object(p.a)({},i,c)})),a(e.target.value)};return r.a.createElement(h.a.Group,{"data-testid":"npri-".concat(c.id),as:u.a,controlId:"NPRIForm"},r.a.createElement(d.a,null,r.a.createElement(g.a,null,r.a.createElement(g.a.Prepend,null,r.a.createElement(y,{icon:"indent"})),r.a.createElement(h.a.Control,{id:"owner",value:c.owner,onChange:function(e){return i(e,c.id,t)}}))),r.a.createElement(d.a,null),r.a.createElement(d.a,null,r.a.createElement(g.a,null,r.a.createElement(h.a.Control,{id:"interest",value:c.interest,onChange:function(e){return i(e,c.id,t)}}),r.a.createElement(g.a.Append,null,r.a.createElement(g.a.Text,{id:"NPRIPercent"},"%")))),r.a.createElement(d.a,null),r.a.createElement(d.a,{xs:1},r.a.createElement(v.a,{onClick:function(e){return function(e,n,t){e.preventDefault(),l(ne({miId:t,id:n})),a()}(e,c.id,t)},"data-testid":"npri-".concat(c.id,".remove"),variant:"light"},r.a.createElement(y,{icon:"remove"}))))},ve=function(e){var n=e.values,t=e.onChange;console.log("values of MI : ".concat(JSON.stringify(n)));var a=n,c=me();console.log("use state values: ".concat(a));var l=function(e,n){e.preventDefault();var a=e.target,r=a.value,l=a.id;c(W({id:n,changes:Object(p.a)({},l,r)})),t()};return r.a.createElement(h.a,{"data-testid":"mineralInterest-".concat(a.id)},r.a.createElement(h.a.Group,{as:u.a,controlId:"MinernalInterest-".concat(a.id)},r.a.createElement(d.a,null,r.a.createElement(h.a.Control,{id:"owner",value:a.owner,onChange:function(e){return l(e,a.id)}})),r.a.createElement(d.a,null,r.a.createElement(g.a,null,r.a.createElement(h.a.Control,{id:"interest",value:a.interest,onChange:function(e){return l(e,a.id)}}),r.a.createElement(g.a.Append,null,r.a.createElement(g.a.Text,{id:"MineralInterestPercent"},"%")))),r.a.createElement(d.a,null),r.a.createElement(d.a,null,r.a.createElement(h.a.Control,{id:"lease",value:a.lease,onChange:function(e){return l(e,a.id)}})),r.a.createElement(d.a,{xs:1},r.a.createElement(v.a,{"data-testid":"mineralInterest-".concat(a.id,".remove"),onClick:function(e){return function(e,n){e.preventDefault(),c(U(n)),t()}(e,a.id)},variant:"light"},r.a.createElement(y,{icon:"remove"})))),r.a.createElement(pe,{npris:a.npris,miId:a.id,onChange:t}),r.a.createElement(v.a,{variant:"light",onClick:function(e){return function(e,n){e.preventDefault(),c(q({id:n,data:{owner:"",interest:0}})),t()}(e,a.id)}},r.a.createElement(y,{icon:"add"}),"Add NPRI"))},pe=function(e){var n=e.npris,t=e.miId,a=e.onChange;return console.log("mi Id: ".concat(t,", npris: ").concat(JSON.stringify(n,null,2))),n?n.map((function(e){return r.a.createElement(Ee,{key:e.id,values:e,miId:t,onChange:a})})):null},he=function(e){var n=e.tracts,t=e.onChange;return n.map((function(e){return r.a.createElement(ve,{"data-testid":"mineralInterest-".concat(e.id),id:"mineralInterest-".concat(e.id),key:e.id,values:e,onChange:t})}))},ge=function(e){var n,t=e.value,a=e.onChange,c=void 0===a?function(e){console.log("on change called: ",e)}:a,l=fe(),s=Object(i.a)(l,2),m=s[0],f=s[1];n=m;return r.a.createElement(o.a,null,r.a.createElement(u.a,null,r.a.createElement(d.a,null,r.a.createElement("p",null,"Owner")),r.a.createElement(d.a,null,r.a.createElement("p",null,"Mineral Interest")),r.a.createElement(d.a,null,r.a.createElement("p",null,"NPRI")),r.a.createElement(d.a,null,r.a.createElement("p",null,"Lease"))),r.a.createElement(E.a.Divider,null)," ",r.a.createElement(he,{tracts:n,onChange:function(e){return c(n)}}),r.a.createElement(v.a,{onClick:function(e){e.preventDefault(),f(R({owner:"",interest:0,lease:"",npris:[]})),c(n)},variant:"light"},r.a.createElement(y,{icon:"add"}),"Add Mineral Interest"),r.a.createElement(E.a.Divider,null))},be=t(37),Oe=t(38),je=t(42),Ce=t(40),Ie=t(43),we=function(e){function n(e){var t;return Object(be.a)(this,n),(t=Object(je.a)(this,Object(Ce.a)(n).call(this,e))).state={hasError:!1},t}return Object(Ie.a)(n,e),Object(Oe.a)(n,[{key:"componentDidCatch",value:function(e,n){console.error(e,n)}},{key:"render",value:function(){return this.state.hasError?r.a.createElement("h1",null,"Something went wrong."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(r.a.Component),ye=[{id:f()(),owner:"Luke Skywalker",interest:.5,lease:"Tatooine Lease",npris:[{id:f()(),owner:"Leia Organa",interest:.45},{id:f()(),owner:"Han Solo",interest:.15}]}];var De,Pe=(De=function(){var e=fe(),n=Object(i.a)(e,1)[0];return Object(a.useEffect)((function(){n(ce(ye))}),[n]),r.a.createElement(we,null,r.a.createElement(o.a,null,r.a.createElement(u.a,null,r.a.createElement(d.a,null,r.a.createElement(s.a,null,r.a.createElement("h1",null,"Landdox Code Challenge ",r.a.createElement(y,{icon:"smile"}))))),r.a.createElement(u.a,null,r.a.createElement(d.a,null,r.a.createElement(ge,null)))))},function(){return r.a.createElement(de,null,r.a.createElement(De,null))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(Pe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[44,1,2]]]);
//# sourceMappingURL=main.978ffb48.chunk.js.map